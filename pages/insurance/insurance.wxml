<view class="container">
  <view class="header">
    <text class="title">五险一金计算器</text>
  </view>

  <view class="form">
    <view class="form-item">
      <text class="label">工资基数（元）</text>
      <input 
        class="input" 
        type="digit" 
        placeholder="请输入工资基数"
        value="{{salary}}"
        bindinput="onSalaryInput" />
    </view>

    <view class="form-item">
      <text class="label">公积金缴纳基数（元）</text>
      <input 
        class="input" 
        type="digit" 
        placeholder="不填则与工资基数相同"
        value="{{housingFundBase}}"
        bindinput="onHousingFundBaseInput" />
      <text class="hint">提示：公积金缴纳基数可与工资基数不同</text>
    </view>

    <view class="button-group">
      <button class="btn btn-primary" bindtap="calculate">计算</button>
      <button class="btn btn-default" bindtap="reset">重置</button>
    </view>
  </view>

  <view class="result" wx:if="{{result}}">
    <view class="result-header">
      <text class="result-title">计算结果</text>
    </view>
    
    <view class="summary">
      <view class="summary-item" wx:if="{{result.salary !== result.housingFundBase}}">
        <text class="summary-label">工资基数</text>
        <text class="summary-value">¥{{result.salary}}</text>
      </view>
      <view class="summary-item" wx:if="{{result.salary !== result.housingFundBase}}">
        <text class="summary-label">公积金基数</text>
        <text class="summary-value">¥{{result.housingFundBase}}</text>
      </view>
      <view class="summary-item">
        <text class="summary-label">个人缴纳总计</text>
        <text class="summary-value personal">¥{{result.personalTotal}}</text>
      </view>
      <view class="summary-item">
        <text class="summary-label">单位缴纳总计</text>
        <text class="summary-value company">¥{{result.companyTotal}}</text>
      </view>
      <view class="summary-item">
        <text class="summary-label">合计</text>
        <text class="summary-value total">¥{{result.total}}</text>
      </view>
    </view>

    <view class="detail-section">
      <text class="section-title">个人缴纳明细</text>
      <view class="detail-items">
        <view class="detail-item">
          <text class="detail-label">养老保险（8%）</text>
          <text class="detail-value">¥{{result.personal.pension}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">医疗保险（2%）</text>
          <text class="detail-value">¥{{result.personal.medical}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">失业保险（0.5%）</text>
          <text class="detail-value">¥{{result.personal.unemployment}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">住房公积金（12%）</text>
          <text class="detail-value">¥{{result.personal.housingFund}}</text>
        </view>
      </view>
    </view>

    <view class="detail-section">
      <text class="section-title">单位缴纳明细</text>
      <view class="detail-items">
        <view class="detail-item">
          <text class="detail-label">养老保险（16%）</text>
          <text class="detail-value">¥{{result.company.pension}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">医疗保险（10%）</text>
          <text class="detail-value">¥{{result.company.medical}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">失业保险（0.5%）</text>
          <text class="detail-value">¥{{result.company.unemployment}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">工伤保险（0.5%）</text>
          <text class="detail-value">¥{{result.company.injury}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">生育保险（0.8%）</text>
          <text class="detail-value">¥{{result.company.maternity}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">住房公积金（12%）</text>
          <text class="detail-value">¥{{result.company.housingFund}}</text>
        </view>
      </view>
    </view>
  </view>
</view>
